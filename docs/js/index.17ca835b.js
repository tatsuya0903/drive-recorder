(function(e){function t(t){for(var r,a,o=t[0],u=t[1],l=t[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={index:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/drive-recorder/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var s=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0388":function(e,t,n){"use strict";n("618c")},"2b5d":function(e,t,n){"use strict";n("7129")},"618c":function(e,t,n){},7129:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",fixed:""}},[n("v-app-bar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("a",{staticStyle:{color:"white",opacity:"0.2"},attrs:{href:e.commitUrl,target:"_blank"}},[e._v(" "+e._s(e.commitHash7)+" ")])],1),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1)],1)},c=[],a=n("9ab4"),o=n("ed09"),u=function(){function e(){}return Object.defineProperty(e,"title",{get:function(){var e;return null!==(e="ドライブレコーダー")&&void 0!==e?e:"タイトル"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"commitHash",{get:function(){var e;return null!==(e="4b7deb9c21db0766f72cc05319d0dfc852b4b6ae")&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"commitUrl",{get:function(){return null===this.commitHash?null:"https://github.com/tatsuya0903/drive-recorder/commit/"+this.commitHash},enumerable:!1,configurable:!0}),e}(),l=Object(o["c"])({components:{},setup:function(){var e,t,n=Object(o["g"])({}),r=u.title,i=null!==(t=null===(e=u.commitHash)||void 0===e?void 0:e.substring(0,7))&&void 0!==t?t:"",c=u.commitUrl;return Object(a["a"])(Object(a["a"])({},Object(o["i"])(n)),{title:r,commitHash7:i,commitUrl:c})}}),s=l,d=n("2877"),f=n("6544"),v=n.n(f),p=n("7496"),b=n("40dc"),h=n("bb78"),g=n("a523"),m=n("f6c4"),j=n("2fa4"),O=Object(d["a"])(s,i,c,!1,null,"3f789180",null),y=O.exports;v()(O,{VApp:p["a"],VAppBar:b["a"],VAppBarTitle:h["a"],VContainer:g["a"],VMain:m["a"],VSpacer:j["a"]});var _=n("9483");Object(_["a"])("/drive-recorder/service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var x=n("8c4f"),w={Home:"Home"},S=(function(){function e(){}e.toHome=function(){return{name:w.Home}}}(),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[null===e.acc?[n("div",[e._v("Acceleration is NULL")])]:[n("div",{staticStyle:{position:"fixed",top:"60px",right:"20vw",width:"30vw",height:"30vw"}},[n("AccMeter",{attrs:{acc:e.acc}})],1)],n("div",{staticStyle:{padding:"8px",position:"fixed",right:"16px",top:"64px","font-size":"12px",color:"red","text-align":"right"}},[null===e.geo?[n("div",[e._v("Geo is NULL")])]:[n("div",[e._v("速度："+e._s(e.geo.speedMs.toFixed(1))+"(m/s)")]),n("div",[e._v("速度："+e._s(e.geo.speedKmh.toFixed(1))+"(km/h)")]),n("div",[e._v("高度："+e._s(e.geo.altitudeAccuracy.toFixed(1))+"(m)")]),n("div",[e._v("精度："+e._s(e.geo.accuracy.toFixed(1))+"(m)")])]],2),n("div",{staticStyle:{position:"fixed",right:"0px",bottom:"8px",width:"100%","max-width":"30vw"}},[n("SpeedGuage",{attrs:{speed:e.speed}})],1),n("div",{staticStyle:{position:"fixed",left:"0px",bottom:"0px",width:"100%","max-width":"50vw"}},[n("LineChart",{attrs:{value:e.lineChartValue}})],1)],2)}),k=[],P=function(){function e(){}return e.create=function(){return this.num++},e.num=1,e}(),M=function(){function e(e){this.key=null!==e&&void 0!==e?e:P.create()}return e}(),U=function(e){function t(t,n,r,i){var c=e.call(this,t)||this;return c.x=n,c.y=r,c.z=i,c}return Object(a["c"])(t,e),t.create=function(e){return null===e||null===e.x||null===e.y||null===e.z?null:new t(null,e.x,e.y,e.z)},t.gravity=9.807,t}(M),C=function(){function e(t){void 0===t&&(t=e.defaultSize),this.size=t,this.items=[]}return e.prototype.add=function(e){this.items.unshift(e),this.items.splice(this.size)},e.prototype.renew=function(){var e=this.items.length;if(null===e)return null;for(var t=0,n=0,r=0,i=0,c=this.items;i<c.length;i++){var a=c[i];t+=a.x,n+=a.y,r+=a.z}return t/=e,n/=e,r/=e,new U(null,t,n,r)},e.defaultSize=10,e}(),L=function(){var e=Object(o["h"])(null);Object(o["d"])((function(){window.addEventListener("devicemotion",n)})),Object(o["e"])((function(){window.removeEventListener("devicemotion",n)}));var t=new C,n=function(n){var r=U.create(n.acceleration);null!==r&&(t.add(r),e.value=t.renew())};return{acc:e}},A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"acc-meter"},[n("canvas",{ref:"canvas",staticClass:"acc-meter__canvas"}),n("div",[n("v-btn",{attrs:{icon:""},on:{click:e.clickDirection}},[n("v-icon",[e._v("mdi-crop-rotate")])],1),e._v(" "+e._s(e.direction)+" ")],1),n("div",{staticStyle:{position:"absolute",left:"8px",bottom:"8px"}},[n("div",[e._v("X: "+e._s(e.acc.x.toFixed(1)))]),n("div",[e._v("Y: "+e._s(e.acc.y.toFixed(1)))]),n("div",[e._v("Z: "+e._s(e.acc.z.toFixed(1)))])])])},I=[],N={X_PLUS:"X_PLUS",X_MINUS:"X_MINUS",Y_PLUS:"Y_PLUS",Y_MINUS:"Y_MINUS"},X=function(e){switch(e){case N.X_PLUS:return N.X_MINUS;case N.X_MINUS:return N.Y_PLUS;case N.Y_PLUS:return N.Y_MINUS;case N.Y_MINUS:return N.X_PLUS}},z=Object(o["c"])({components:{},props:{acc:{type:U,required:!0}},setup:function(e){var t=this,n=Object(o["g"])({direction:N.X_MINUS}),r=Object(o["h"])(),i=function(){var t=r.value;if(t){var i=Math.min(t.clientWidth,t.clientHeight)/2,a=2*i,o=2*i,l=.9*i;t.setAttribute("width",""+a),t.setAttribute("height",""+o);var s=t.getContext("2d");if(s){s.beginPath(),s.clearRect(0,0,a,o);var d=0,f=2*i,v=0,p=2*i,b=(f-d)/2,h=(p-v)/2;s.beginPath(),s.strokeRect(0,0,i,i),s.strokeRect(0,h,i,i),s.strokeRect(b,0,i,i),s.strokeRect(b,h,i,i),s.stroke();for(var g=l/5,m=g;m<=l;m+=g)s.beginPath(),s.arc(b,h,m,0,2*Math.PI),s.strokeStyle="black",s.stroke();var j=9.8,O=1/j*l,y=b+c(e.acc,n.direction)*O,_=h+u(e.acc)*O;s.beginPath(),s.arc(y,_,10,0,2*Math.PI),s.fillStyle="darkblue",s.fill(),s.closePath()}}},c=function(e,t){switch(t){case N.X_PLUS:return e.x;case N.X_MINUS:return-1*e.x;case N.Y_PLUS:return e.y;case N.Y_MINUS:return-1*e.y}},u=function(e){return-1*e.z};Object(o["j"])((function(){return e.acc}),(function(){i()})),Object(o["f"])((function(){i()}));var l=function(){return Object(a["b"])(t,void 0,void 0,(function(){return Object(a["d"])(this,(function(e){return n.direction=X(n.direction),[2]}))}))};return Object(a["a"])(Object(a["a"])({},Object(o["i"])(n)),{canvas:r,clickDirection:l})}}),V=z,Y=(n("0388"),n("8336")),H=n("132d"),T=Object(d["a"])(V,A,I,!1,null,"3b0dcdfe",null),F=T.exports;v()(T,{VBtn:Y["a"],VIcon:H["a"]});var E=function(e){function t(t,n,r,i){var c=e.call(this,t)||this;return c.speed=n,c.accuracy=r,c.altitudeAccuracy=i,c}return Object(a["c"])(t,e),t.create=function(e){var n=e.coords.speed,r=e.coords.accuracy,i=e.coords.altitudeAccuracy;return null===n?null:new t(null,n,null!==r&&void 0!==r?r:-1,null!==i&&void 0!==i?i:-1)},Object.defineProperty(t.prototype,"speedMs",{get:function(){return this.speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speedKmh",{get:function(){return 60*this.speed*60/1e3},enumerable:!1,configurable:!0}),t}(M),W=function(){var e=Object(o["h"])(null),t=null;Object(o["d"])((function(){var e={enableHighAccuracy:!0};t=navigator.geolocation.watchPosition(n,r,e)})),Object(o["e"])((function(){null!==t&&navigator.geolocation.clearWatch(t)}));var n=function(t){e.value=E.create(t)},r=function(e){};return{geo:e}},D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"speed-guage",style:e.styleObject},[n("div",{ref:"target",staticClass:"speed-guage__target"}),n("div",{staticClass:"speed-guage__border"})])},R=[],Z=Object(o["c"])({components:{},props:{speed:{type:Number,required:!0}},setup:function(e){var t=Object(o["g"])({}),n=Object(o["h"])(),r=null,i=function(){var e=n.value;e&&(r=new google.visualization.Gauge(e))},c=function(){var t=n.value;if(t){var i=google.visualization.arrayToDataTable([["Label","Value"],[""+e.speed.toFixed(0),e.speed]]),c=t.clientWidth,a={width:c,height:c,min:-10,max:90,yellowFrom:60,yellowTo:70,redFrom:70,redTo:80,minorTicks:5,majorTicks:[-10,0,10,20,30,40,50,60,70,80,90].map((function(e){return""+e}))};null===r||void 0===r||r.draw(i,a)}};return Object(o["f"])((function(){google.charts.load("current",{packages:["gauge"]}),google.charts.setOnLoadCallback((function(){i(),c()}))})),Object(o["j"])((function(){return e.speed}),(function(){c()})),Object(a["a"])(Object(a["a"])({},Object(o["i"])(t)),{target:n})}}),$=Z,G=(n("2b5d"),Object(d["a"])($,D,R,!1,null,"6f18ca3e",null)),B=G.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"line-chart"},[n("div",{ref:"target",staticClass:"line-chart__target"})])},K=[],J=Object(o["c"])({components:{},props:{value:{type:null,default:null}},setup:function(e){var t=Object(o["g"])({}),n=[],r=function(){if(null!==e.value){var t=n.length>0?n[0].time:null;if(e.value.time!==t){console.warn("addValue >> "+n.length+", "+n.map((function(e){return e.time})).join(", "));var r=Object.assign({},e.value);r.speed=Math.abs(r.speed),r.accX=Math.abs(r.accX/U.gravity),r.accY=Math.abs(r.accY/U.gravity),r.accZ=Math.abs(r.accZ/U.gravity),n.unshift(r),n.splice(100)}}},i=Object(o["h"])(),c=null,u=function(){var e=i.value;e&&(c=new google.visualization.LineChart(e))},l=function(e){var t=new google.visualization.DataTable;t.addColumn("number"),t.addColumn("number","速度"),t.addColumn("number","加速度(X)"),t.addColumn("number","加速度(Y)"),t.addColumn("number","加速度(Z)");for(var n=(new Date).getTime(),r=0,i=e;r<i.length;r++){var a=i[r],o=Math.abs(a.time-n)/1e3;o<=10&&t.addRow([o,a.speed,a.accX,a.accY,a.accZ])}var u={chart:{title:""},width:"60vh",height:"60vh",series:{0:{targetAxisIndex:0,color:"red",lineWidth:1},1:{targetAxisIndex:1,color:"blue",lineWidth:1},2:{targetAxisIndex:1,color:"orange",lineWidth:1},3:{targetAxisIndex:1,color:"green",lineWidth:1}},vAxes:{0:{title:"速度(km/h)",minValue:0,maxValue:60},1:{title:"加速度(G)",minValue:0,maxValue:.3}},hAxis:{ticks:[0,1,2,3,4,5,6,7,8,9,10]}};c.draw(t,u)};Object(o["f"])((function(){google.charts.load("current",{packages:["line","corechart"]}),google.charts.setOnLoadCallback((function(){u(),l([])}))}));var s=void 0;return Object(o["d"])((function(){s=setInterval((function(){r(),l(n)}),100)})),Object(o["e"])((function(){clearInterval(s)})),Object(a["a"])(Object(a["a"])({},Object(o["i"])(t)),{target:i})}}),Q=J,ee=Object(d["a"])(Q,q,K,!1,null,"94212c66",null),te=ee.exports,ne=Object(o["c"])({components:{LineChart:te,SpeedGuage:B,AccMeter:F},setup:function(){var e=Object(o["g"])({debugSpeed:null}),t=L().acc,n=W().geo,r=Object(o["a"])((function(){var e,t;return null!==(t=null===(e=n.value)||void 0===e?void 0:e.speedKmh)&&void 0!==t?t:0})),i=Object(o["a"])((function(){var e,i,c,a,o,u;return null===t.value&&null===n.value?null:{time:(new Date).getTime(),accX:null!==(i=null===(e=t.value)||void 0===e?void 0:e.x)&&void 0!==i?i:0,accY:null!==(a=null===(c=t.value)||void 0===c?void 0:c.y)&&void 0!==a?a:0,accZ:null!==(u=null===(o=t.value)||void 0===o?void 0:o.z)&&void 0!==u?u:0,speed:r.value}}));return Object(a["a"])(Object(a["a"])({},Object(o["i"])(e)),{acc:t,geo:n,speed:r,lineChartValue:i})}}),re=ne,ie=Object(d["a"])(re,S,k,!1,null,"fbe83522",null),ce=ie.exports;r["default"].use(x["a"]);var ae=[{path:"/",name:w.Home,component:ce}],oe=new x["a"]({mode:"history",base:"/drive-recorder/",routes:ae}),ue=oe,le=n("2f62");r["default"].use(le["a"]);var se=new le["a"].Store({state:{},mutations:{},actions:{},modules:{}}),de=n("f309");r["default"].use(de["a"]);var fe=new de["a"]({});r["default"].config.productionTip=!1,r["default"].use(o["b"]),new r["default"]({router:ue,store:se,vuetify:fe,render:function(e){return e(y)}}).$mount("#app")}});